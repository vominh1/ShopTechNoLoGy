@model PagedList.IPagedList<ShopTechNoLoGy.Models.sanPham>
@using PagedList.Mvc;


@{
    ViewBag.Title = "Danh Sách Sản Phẩm Tồn Kho";
}

<style>
    .pagination .page-item {
        margin: 0 5px;
    }

        .pagination .page-item a {
            padding: 10px 20px;
            font-size: 1.2rem;
            color: #fff;
            background-color: #007bff;
            border-radius: 5px;
            text-decoration: none;
        }

            .pagination .page-item a:hover {
                background-color: #0056b3;
            }

        .pagination .page-item.active a {
            background-color: #28a745;
            border-color: #28a745;
        }

        .pagination .page-item.disabled a {
            background-color: #6c757d;
        }

</style>
<h2>DANH SÁCH SẢN PHẨM TỒN KHO</h2>

<!-- Form tìm kiếm -->
<form method="get" action="@Url.Action("TonKho", "WareHouse")" class="mb-3">
    <div class="form-row">
        <div class="col-md-4">
            <input type="text" id="searchName" name="searchName" class="form-control" placeholder="Nhập tên sản phẩm" value="@Request.QueryString["searchName"]" />
        </div>
        <div class="col-md-4">
            <input type="text" id="categoryId" name="categoryId" class="form-control" placeholder="Nhập mã loại sản phẩm" value="@Request.QueryString["categoryId"]" />
        </div>
        <div class="col-md-4">
            <button type="submit" class="btn btn-primary">Tìm kiếm</button>
        </div>
    </div>
</form>

<!-- Hiển thị bảng kết quả sản phẩm -->
<table class="table table-bordered mt-3">
    <thead class="thead-dark">
        <tr>
            <th>Hình Ảnh</th>
            <th>Tên Sản Phẩm</th>
            <th>Số Lượng Tồn Kho</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null && Model.Any())
        {
            foreach (var item in Model)
            {
                <tr>
                    <td>
                        <img src="@Url.Content(item.hinhDD)" alt="@item.tenSP" class="img-fluid" style="width: 100px; height: 100px;" />
                    </td>
                    <td>@Html.DisplayFor(modelItem => item.tenSP)</td>
                    <td>@Html.DisplayFor(modelItem => item.SoLuongTonKho)</td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="3" class="text-center">Không có sản phẩm nào được tìm thấy.</td>
            </tr>
        }
    </tbody>
</table>

<!-- Hiển thị phân trang với Bootstrap -->
<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center pagination-lg">
        @Html.PagedListPager(Model, page => Url.Action("TonKho", new { page, searchName = Request.QueryString["searchName"], categoryId = Request.QueryString["categoryId"] }),
        new PagedListRenderOptions()
        {
            LiElementClasses = new[] { "page-item" },
            UlElementClasses = new[] { "pagination" },
            LinkToPreviousPageFormat = "«",
            LinkToNextPageFormat = "»",
            DisplayLinkToPreviousPage = PagedListDisplayMode.Always,
            DisplayLinkToNextPage = PagedListDisplayMode.Always,
            //DisplayLinkToFirstPage = PagedListDisplayMode.Always,
            //DisplayLinkToLastPage = PagedListDisplayMode.Always,
            DisplayLinkToIndividualPages = true,
            //LinkToFirstPageFormat = "First",
            //LinkToLastPageFormat = "Last"
        })
    </ul>
</nav>


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
