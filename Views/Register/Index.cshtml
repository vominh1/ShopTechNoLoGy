@model ShopTechNoLoGy.Models.taiKhoanTV
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .courses_details_banner {
        background-image: url(../images/banner/banner2.jpg);
    }

    .breadcam_bg {
        background-image: url(../images/banner/banner2.jpg);
    }

    body {
        background-color: #f8f9fa;
    }

    .form-container {
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        padding: 30px;
        margin-top: 30px;
        margin-bottom: 30px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-control {
        border-radius: 5px;
    }

    .btn-register {
        background-color: #007bff;
        border-color: #007bff;
        color: #ffffff;
        padding: 10px 20px;
        font-size: 18px;
        border-radius: 5px;
        transition: all 0.3s ease;
    }

        .btn-register:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

    .password-toggle {
        cursor: pointer;
    }

    .form-check-input:checked {
        background-color: #007bff;
        border-color: #007bff;
    }
</style>

<div class="bradcam_area breadcam_bg overlay1">
    <h3 style="margin-top:0">Đăng ký tài khoản</h3>
</div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="form-container">
                <form id="registrationForm" asp-action="Index" asp-controller="Register" method="post">
                    @Html.AntiForgeryToken()
                    <div class="row">
                        <div class="col-md-6">
                            <!-- Phần Thông Tin Tài Khoản -->
                            <div class="form-group">
                                <label for="taiKhoan">Tài khoản</label>
                                <input type="text" id="taiKhoan" name="taiKhoan" class="form-control" required />
                            </div>

                            <div class="form-group">
                                <label for="matKhau">Mật khẩu</label>
                                <div class="input-group">
                                    <input type="password" id="matKhau" name="matKhau" class="form-control" required />
                                    <div class="input-group-append">
                                        <span class="input-group-text password-toggle" id="togglePassword">
                                            <i class="fa fa-eye"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="matKhauConfirm">Xác nhận mật khẩu</label>
                                <input type="password" id="matKhauConfirm" name="matKhauConfirm" class="form-control" required />
                            </div>
                            <div class="form-group">
                                <label for="ngaySinh">Ngày sinh</label>
                                <input type="date" id="ngaySinh" name="ngaySinh" class="form-control" required />
                            </div>

                            <div class="form-group">
                                <label>Giới tính</label>
                                <div class="d-flex">
                                    <div class="form-check mr-3">
                                        <input class="form-check-input" type="radio" name="gioiTinh" id="gioiTinhNam" value="true" required />
                                        <label class="form-check-label" for="gioiTinhNam">Nam</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="gioiTinh" id="gioiTinhNu" value="false" required />
                                        <label class="form-check-label" for="gioiTinhNu">Nữ</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <!-- Phần Thông Tin Cá Nhân -->
                            <div class="form-group">
                                <label for="hoDem">Họ đệm</label>
                                <input type="text" id="hoDem" name="hoDem" class="form-control" required />
                            </div>
                            <div class="form-group">
                                <label for="tenTV">Tên</label>
                                <input type="text" id="tenTV" name="tenTV" class="form-control" required />
                            </div>

                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" class="form-control" required />
                            </div>

                           

                            <div class="form-group">
                                <label for="soDT">Số điện thoại</label>
                                <input type="tel" id="soDT" name="soDT" class="form-control" required />
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-register btn-block">Đăng ký</button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script>
        $(document).ready(function () {
            // Toggle password visibility
            $('#togglePassword').click(function () {
                var passwordInput = $('#matKhau');
                var icon = $(this).find('i');

                if (passwordInput.attr('type') === 'password') {
                    passwordInput.attr('type', 'text');
                    icon.removeClass('fa-eye').addClass('fa-eye-slash');
                } else {
                    passwordInput.attr('type', 'password');
                    icon.removeClass('fa-eye-slash').addClass('fa-eye');
                }
            });

            // Form validation
            $('#registrationForm').validate({
                rules: {
                    taiKhoan: {
                        required: true,
                        minlength: 3
                    },
                    matKhau: {
                        required: true,
                        minlength: 6
                    },
                    matKhauConfirm: {
                        required: true,
                        equalTo: "#matKhau"
                    },
                    email: {
                        required: true,
                        email: true
                    },
                    soDT: {
                        required: true,
                        digits: true,
                        minlength: 10,
                        maxlength: 11
                    }
                },
                messages: {
                    taiKhoan: {
                        required: "Vui lòng nhập tài khoản",
                        minlength: "Tài khoản phải có ít nhất 3 ký tự"
                    },
                    matKhau: {
                        required: "Vui lòng nhập mật khẩu",
                        minlength: "Mật khẩu phải có ít nhất 6 ký tự"
                    },
                    matKhauConfirm: {
                        required: "Vui lòng xác nhận mật khẩu",
                        equalTo: "Mật khẩu xác nhận không khớp"
                    },
                    email: {
                        required: "Vui lòng nhập email",
                        email: "Vui lòng nhập một địa chỉ email hợp lệ"
                    },
                    soDT: {
                        required: "Vui lòng nhập số điện thoại",
                        digits: "Vui lòng chỉ nhập số",
                        minlength: "Số điện thoại phải có ít nhất 10 số",
                        maxlength: "Số điện thoại không được quá 11 số"
                    }
                },
                submitHandler: function (form) {
                    showSuccessMessageAndRedirect();
                }
            });
        });

        function showSuccessMessageAndRedirect() {
            alert("Chúc mừng bạn đã tạo tài khoản thành công!");
            window.location.href = "/Login/Index";
        }
    </script>
}
