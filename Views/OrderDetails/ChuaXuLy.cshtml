@using ShopTechNoLoGy.Models
@{
    ViewBag.Title = "Index";
    List<donHang> ds = ViewData["DanhSachDonHangChuaXuLy"] as List<donHang>;
}
<style>
    .courses_details_banner {
        background-image: url(../images/banner/banner2.jpg);
    }

    .breadcam_bg {
        background-image: url(../images/banner/banner2.jpg);
    }

    .bradcam_area {
        max-height: 100px;
        margin: 0;
    }
</style>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<div class="bradcam_area breadcam_bg overlay1">
    <h3 style="margin-top:0 ;margin-bottom:0">Đơn hàng đã đặt</h3>
</div>

<section class="content">
    <div class="card">
        <div class="card-header bg-warning text-dark">
            <h3 class="card-title">Danh sách đơn hàng đang xử lý</h3>
            <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse" data-toggle="tooltip" title="Thu gọn">
                    <i class="fas fa-minus"></i>
                </button>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table id="pendingOrderTable" class="table table-striped table-hover">
                    <thead class="thead-light">
                        <tr>
                            <th>Số đơn hàng</th>
                            <th>Mã khách hàng</th>
                            <th>Trạng thái</th>
                            <th>Ngày đặt</th>
                            <th>Tài khoản</th>
                            <th>Địa chỉ giao hàng</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (ds != null)
                        {
                            foreach (var order in ds)
                            {
                                <tr>
                                    <td>@order.soDH</td>
                                    <td>@order.maKH</td>
                                    <td><span class="badge badge-warning">Đang xử lý</span></td>
                                    <td>@order.ngayDat</td>
                                    <td>@order.taiKhoan</td>
                                    <td>@order.diaChiGH</td>
                                    <td>
                                        @using (Html.BeginForm("ChiTietDonHangChuaXuLy", "OrderDetails", FormMethod.Post))
                                        {
                                            <input type="hidden" name="soDH" value="@order.soDH" />
                                            <button class="btn btn-info btn-sm" title="Xem chi tiết đơn hàng">
                                                <i class="fas fa-eye"></i> Chi tiết
                                            </button>
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<style>
    .card {
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }

    .btn-info {
        background-color: #17a2b8;
        border-color: #17a2b8;
    }

        .btn-info:hover {
            background-color: #138496;
            border-color: #117a8b;
        }

    .badge-warning {
        background-color: #ffc107;
        color: #212529;
    }

    .table th {
        background-color: #f8f9fa;
    }
</style>

@section Scripts {
    <script>
        $(document).ready(function() {
            $('#pendingOrderTable').DataTable({
                "paging": true,
                "lengthChange": false,
                "searching": true,
                "ordering": true,
                "info": true,
                "autoWidth": false,
                "responsive": true,
                "language": {
                    "search": "Tìm kiếm:",
                    "paginate": {
                        "first": "Đầu",
                        "last": "Cuối",
                        "next": "Tiếp",
                        "previous": "Trước"
                    },
                    "info": "Hiển thị _START_ đến _END_ của _TOTAL_ đơn hàng",
                    "infoEmpty": "Hiển thị 0 đến 0 của 0 đơn hàng",
                    "infoFiltered": "(lọc từ _MAX_ đơn hàng)",
                    "zeroRecords": "Không tìm thấy đơn hàng nào",
                }
            });
        });
    </script>
}