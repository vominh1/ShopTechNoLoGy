@using ShopTechNoLoGy.Models
@{
    ViewBag.Title = "Chi Tiết Đơn Hàng chưa xử lý";
    List<ctDonHang> chiTiet = ViewData["ChiTietDonHangChuaXuLy"] as List<ctDonHang>;
}
<style>
    .courses_details_banner {
        background-image: url(../images/banner/banner2.jpg);
    }

    .breadcam_bg {
        background-image: url(../images/banner/banner2.jpg);
    }

    .bradcam_area {
        max-height: 100px;
        margin: 0;
    }
</style>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<div class="bradcam_area breadcam_bg overlay1">
    <h3 style="margin-top:0 ;margin-bottom:0">Chi Tiết Đơn Đặt Hàng</h3>
</div>
<div class="container my-5">
   
    <div class="card shadow">
        <div class="card-body">
            <div class="table-responsive">
                <table id="orderDetailsTable" class="table table-striped table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>Hình ảnh</th>
                            <th>Số đơn hàng</th>
                            <th>Mã sản phẩm</th>
                            <th>Số lượng</th>
                            <th>Giá bán</th>
                            <th>Giảm giá</th>
                            <th>Thành tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (chiTiet != null)
                        {
                            foreach (var item in chiTiet)
                            {
                                <tr>
                                    <td>
                                        <a href="@Url.Action("Index", "ProductDetails", new { maSP = item.maSP })">
                                            <img src="@Common.getImagesOfProductById(item.maSP)" class="img-thumbnail" alt="Sản phẩm" style="width: 100px; height: 100px; object-fit: cover;">
                                        </a>
                                    </td>
                                    <td>@item.soDH</td>
                                    <td>@item.maSP</td>
                                    <td>@item.soLuong</td>
                                    <td>@string.Format("{0:#,##0 VNĐ}", item.giaBan)</td>
                                    <td>@string.Format("{0:#,##0 VNĐ}", item.giamGia)</td>
                                    <td>@string.Format("{0:#,##0 VNĐ}", item.ThanhTien)</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="text-center mt-4">
        <a href="@Url.Action("ChuaXuLy", "OrderDetails")" class="btn btn-primary">
            <i class="fas fa-arrow-left mr-2"></i>Quay lại danh sách đơn hàng
        </a>
    </div>
</div>

<style>
    .card {
        border: none;
        border-radius: 10px;
    }

    .table th {
        background-color: #343a40;
        color: white;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }
</style>

@section Scripts {
    <script>
        $(document).ready(function() {
            $('#orderDetailsTable').DataTable({
                "paging": true,
                "lengthChange": false,
                "searching": true,
                "ordering": true,
                "info": true,
                "autoWidth": false,
                "responsive": true,
                "language": {
                    "search": "Tìm kiếm:",
                    "paginate": {
                        "first": "Đầu",
                        "last": "Cuối",
                        "next": "Tiếp",
                        "previous": "Trước"
                    },
                    "info": "Hiển thị _START_ đến _END_ của _TOTAL_ sản phẩm",
                    "infoEmpty": "Hiển thị 0 đến 0 của 0 sản phẩm",
                    "infoFiltered": "(lọc từ _MAX_ sản phẩm)",
                    "zeroRecords": "Không tìm thấy sản phẩm nào",
                }
            });
        });
    </script>
}